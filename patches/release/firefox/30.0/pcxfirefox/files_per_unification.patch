# HG changeset patch
# User pcxfirefox@gmail.com
# Date 1402046177 -28800
#      Fri Jun 06 17:16:17 2014 +0800
# Node ID 04bc1e6f05c252bd9734bd83d8b9adabbe40a13d
# Parent  a6041e6375c982c18167995db08bf08e44134679
files_per_unification

diff -r a6041e6375c9 -r 04bc1e6f05c2 accessible/src/base/moz.build
--- a/accessible/src/base/moz.build	Fri Jun 06 17:10:55 2014 +0800
+++ b/accessible/src/base/moz.build	Fri Jun 06 17:16:17 2014 +0800
@@ -4,6 +4,8 @@
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/.
 
+FILES_PER_UNIFIED_FILE = 16
+
 EXPORTS += [
     'AccEvent.h',
     'nsAccessibilityService.h'
diff -r a6041e6375c9 -r 04bc1e6f05c2 content/base/src/moz.build
--- a/content/base/src/moz.build	Fri Jun 06 17:10:55 2014 +0800
+++ b/content/base/src/moz.build	Fri Jun 06 17:16:17 2014 +0800
@@ -4,6 +4,8 @@
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/.
 
+FILES_PER_UNIFIED_FILE = 16
+
 EXPORTS += [
     'mozAutoDocUpdate.h',
     'nsAtomListUtils.h',
diff -r a6041e6375c9 -r 04bc1e6f05c2 content/media/fmp4/moz.build
--- a/content/media/fmp4/moz.build	Fri Jun 06 17:10:55 2014 +0800
+++ b/content/media/fmp4/moz.build	Fri Jun 06 17:16:17 2014 +0800
@@ -4,6 +4,8 @@
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/.
 
+FILES_PER_UNIFIED_FILE = 16
+
 EXPORTS += [
     'MP4Decoder.h',
     'MP4Reader.h',
diff -r a6041e6375c9 -r 04bc1e6f05c2 content/media/moz.build
--- a/content/media/moz.build	Fri Jun 06 17:10:55 2014 +0800
+++ b/content/media/moz.build	Fri Jun 06 17:16:17 2014 +0800
@@ -4,6 +4,8 @@
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/.
 
+FILES_PER_UNIFIED_FILE = 16
+
 PARALLEL_DIRS += [
   'encoder',
   'mediasource',
diff -r a6041e6375c9 -r 04bc1e6f05c2 content/svg/content/src/moz.build
--- a/content/svg/content/src/moz.build	Fri Jun 06 17:10:55 2014 +0800
+++ b/content/svg/content/src/moz.build	Fri Jun 06 17:16:17 2014 +0800
@@ -4,6 +4,8 @@
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/.
 
+FILES_PER_UNIFIED_FILE = 16
+
 EXPORTS += [
     'nsSVGClass.h',
     'nsSVGElement.h',
diff -r a6041e6375c9 -r 04bc1e6f05c2 dom/indexedDB/moz.build
--- a/dom/indexedDB/moz.build	Fri Jun 06 17:10:55 2014 +0800
+++ b/dom/indexedDB/moz.build	Fri Jun 06 17:16:17 2014 +0800
@@ -4,6 +4,8 @@
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/.
 
+FILES_PER_UNIFIED_FILE = 16
+
 DIRS += ['ipc']
 TEST_DIRS += ['test']
 
diff -r a6041e6375c9 -r 04bc1e6f05c2 editor/libeditor/html/moz.build
--- a/editor/libeditor/html/moz.build	Fri Jun 06 17:10:55 2014 +0800
+++ b/editor/libeditor/html/moz.build	Fri Jun 06 17:16:17 2014 +0800
@@ -4,6 +4,8 @@
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/.
 
+FILES_PER_UNIFIED_FILE = 16
+
 TEST_DIRS += ['tests']
 
 UNIFIED_SOURCES += [
diff -r a6041e6375c9 -r 04bc1e6f05c2 gfx/angle/moz.build
--- a/gfx/angle/moz.build	Fri Jun 06 17:10:55 2014 +0800
+++ b/gfx/angle/moz.build	Fri Jun 06 17:16:17 2014 +0800
@@ -4,6 +4,8 @@
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/.
 
+FILES_PER_UNIFIED_FILE = 16
+
 # libEGL depends on (links against!) libGLESv2!
 if CONFIG['MOZ_ANGLE_RENDERER']:
     DIRS += ['src/libGLESv2', 'src/libEGL']
diff -r a6041e6375c9 -r 04bc1e6f05c2 gfx/layers/moz.build
--- a/gfx/layers/moz.build	Fri Jun 06 17:10:55 2014 +0800
+++ b/gfx/layers/moz.build	Fri Jun 06 17:16:17 2014 +0800
@@ -4,6 +4,8 @@
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/.
 
+FILES_PER_UNIFIED_FILE = 16
+
 EXPORTS += [
     'basic/BasicCanvasLayer.h',
     'basic/BasicImplData.h',
diff -r a6041e6375c9 -r 04bc1e6f05c2 gfx/skia/moz.build
--- a/gfx/skia/moz.build	Fri Jun 06 17:10:55 2014 +0800
+++ b/gfx/skia/moz.build	Fri Jun 06 17:16:17 2014 +0800
@@ -1,5 +1,7 @@
 # Please note this file is autogenerated from generate_mozbuild.py, so do not modify it directly
 
+FILES_PER_UNIFIED_FILE = 16
+
 EXPORTS.skia += [
     'trunk/include/animator/SkAnimator.h',
     'trunk/include/animator/SkAnimatorView.h',
diff -r a6041e6375c9 -r 04bc1e6f05c2 image/src/moz.build
--- a/image/src/moz.build	Fri Jun 06 17:10:55 2014 +0800
+++ b/image/src/moz.build	Fri Jun 06 17:16:17 2014 +0800
@@ -4,6 +4,8 @@
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/.
 
+FILES_PER_UNIFIED_FILE = 16
+
 EXPORTS += [
     'ImageOps.h',
     'imgLoader.h',
diff -r a6041e6375c9 -r 04bc1e6f05c2 js/src/moz.build
--- a/js/src/moz.build	Fri Jun 06 17:10:55 2014 +0800
+++ b/js/src/moz.build	Fri Jun 06 17:16:17 2014 +0800
@@ -4,6 +4,8 @@
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/.
 
+FILES_PER_UNIFIED_FILE = 16
+
 if CONFIG['DEHYDRA_PATH']:
     DIRS += ['analysis-tests']
 
diff -r a6041e6375c9 -r 04bc1e6f05c2 js/xpconnect/src/moz.build
--- a/js/xpconnect/src/moz.build	Fri Jun 06 17:10:55 2014 +0800
+++ b/js/xpconnect/src/moz.build	Fri Jun 06 17:16:17 2014 +0800
@@ -4,6 +4,8 @@
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/.
 
+FILES_PER_UNIFIED_FILE = 16
+
 EXPORTS += [
     'BackstagePass.h',
     'nsCxPusher.h',
diff -r a6041e6375c9 -r 04bc1e6f05c2 layout/base/moz.build
--- a/layout/base/moz.build	Fri Jun 06 17:10:55 2014 +0800
+++ b/layout/base/moz.build	Fri Jun 06 17:16:17 2014 +0800
@@ -4,6 +4,8 @@
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/.
 
+FILES_PER_UNIFIED_FILE = 16
+
 XPIDL_SOURCES += [
     'nsIStyleSheetService.idl',
 ]
diff -r a6041e6375c9 -r 04bc1e6f05c2 layout/style/moz.build
--- a/layout/style/moz.build	Fri Jun 06 17:10:55 2014 +0800
+++ b/layout/style/moz.build	Fri Jun 06 17:16:17 2014 +0800
@@ -4,6 +4,8 @@
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/.
 
+FILES_PER_UNIFIED_FILE = 16
+
 DIRS += ['xbl-marquee']
 TEST_TOOL_DIRS += ['test']
 
diff -r a6041e6375c9 -r 04bc1e6f05c2 media/webrtc/moz.build
--- a/media/webrtc/moz.build	Fri Jun 06 17:10:55 2014 +0800
+++ b/media/webrtc/moz.build	Fri Jun 06 17:16:17 2014 +0800
@@ -7,6 +7,7 @@
 include('/build/gyp.mozbuild')
 
 webrtc_non_unified_sources = [
+    'trunk/third_party/libyuv/source/scale_argb.cc',
     'trunk/webrtc/common_audio/vad/vad_core.c',                                  # Because of name clash in the kInitCheck variable
     'trunk/webrtc/common_audio/vad/webrtc_vad.c',                                # Because of name clash in the kInitCheck variable
     'trunk/webrtc/modules/audio_coding/codecs/g722/g722_decode.c',               # Because of name clash in the saturate function
@@ -26,11 +27,13 @@
     'trunk/webrtc/modules/audio_processing/gain_control_impl.cc',                # Because of name clash in the Handle typedef
     'trunk/webrtc/modules/audio_processing/high_pass_filter_impl.cc',            # Because of name clash in the Handle typedef
     'trunk/webrtc/modules/audio_processing/noise_suppression_impl.cc',           # Because of name clash in the Handle typedef
+    'trunk/webrtc/modules/rtp_rtcp/source/rtp_sender_video.cc',
     'trunk/webrtc/modules/video_capture/mac/qtkit/video_capture_qtkit.mm',       # Because of name clash in the nsAutoreleasePool class
     'trunk/webrtc/modules/video_capture/mac/qtkit/video_capture_qtkit_info.mm',  # Because of name clash in the nsAutoreleasePool class
     'trunk/webrtc/modules/video_capture/windows/device_info_ds.cc',              # Because of the MEDIASUBTYPE_HDYC variable
     'trunk/webrtc/modules/video_capture/windows/help_functions_ds.cc',           # Because of initguid.h
     'trunk/webrtc/modules/video_capture/windows/sink_filter_ds.cc',              # Because of the MEDIASUBTYPE_HDYC variable and initguid.h
+    'trunk/webrtc/system_wrappers/source/rw_lock_win.cc',
 ]
 
 GYP_DIRS += ['trunk']
diff -r a6041e6375c9 -r 04bc1e6f05c2 netwerk/base/src/moz.build
--- a/netwerk/base/src/moz.build	Fri Jun 06 17:10:55 2014 +0800
+++ b/netwerk/base/src/moz.build	Fri Jun 06 17:16:17 2014 +0800
@@ -4,6 +4,8 @@
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/.
 
+FILES_PER_UNIFIED_FILE = 16
+
 EXPORTS += [
     'nsFileStreams.h',
     'nsMIMEInputStream.h',
diff -r a6041e6375c9 -r 04bc1e6f05c2 python/mozbuild/mozbuild/backend/recursivemake.py
--- a/python/mozbuild/mozbuild/backend/recursivemake.py	Fri Jun 06 17:10:55 2014 +0800
+++ b/python/mozbuild/mozbuild/backend/recursivemake.py	Fri Jun 06 17:16:17 2014 +0800
@@ -365,7 +365,7 @@
                 UNIFIED_CPPSRCS='cpp',
             )
 
-            files_per_unification = 16
+            files_per_unification = 29
             if 'FILES_PER_UNIFIED_FILE' in obj.variables.keys():
                 files_per_unification = obj.variables['FILES_PER_UNIFIED_FILE']
 
@@ -604,7 +604,7 @@
                                  unified_files_makefile_variable='unified_files',
                                  include_curdir_build_rules=True,
                                  poison_windows_h=False,
-                                 files_per_unified_file=16):
+                                 files_per_unified_file=29):
 
         # In case it's a generator.
         files = sorted(files)
diff -r a6041e6375c9 -r 04bc1e6f05c2 security/manager/ssl/src/moz.build
--- a/security/manager/ssl/src/moz.build	Fri Jun 06 17:10:55 2014 +0800
+++ b/security/manager/ssl/src/moz.build	Fri Jun 06 17:16:17 2014 +0800
@@ -4,6 +4,8 @@
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/.
 
+FILES_PER_UNIFIED_FILE = 16
+
 EXPORTS += [
     'CryptoTask.h',
     'nsCrypto.h',
diff -r a6041e6375c9 -r 04bc1e6f05c2 widget/windows/moz.build
--- a/widget/windows/moz.build	Fri Jun 06 17:10:55 2014 +0800
+++ b/widget/windows/moz.build	Fri Jun 06 17:16:17 2014 +0800
@@ -4,6 +4,8 @@
 # License, v. 2.0. If a copy of the MPL was not distributed with this
 # file, You can obtain one at http://mozilla.org/MPL/2.0/.
 
+FILES_PER_UNIFIED_FILE = 16
+
 if CONFIG['MOZ_METRO']:
     DIRS += ['winrt']
 
